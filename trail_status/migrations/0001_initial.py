# Generated by Django 6.0 on 2025-12-31 13:02

import django.db.models.deletion
import django.utils.timezone
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='DataSource',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200, verbose_name='æ©Ÿé–¢å')),
                ('organization_type', models.CharField(choices=[('MUNICIPALITY', 'åœ°æ–¹è‡ªæ²»ä½“'), ('POLICE_FIRE', 'è­¦å¯Ÿãƒ»æ¶ˆé˜²'), ('GOVERNMENT', 'çœåº'), ('OFFICIAL_DEPS', 'ãã®ä»–å…¬çš„æ©Ÿé–¢'), ('ASSOCIATION', 'å”ä¼šãƒ»å›£ä½“'), ('MOUNTAIN_HUT', 'å±±å°å±‹'), ('SNS', 'SNS/ãƒ¦ãƒ¼ã‚¶ãƒ¼æŠ•ç¨¿'), ('OTHER', 'ãã®ä»–')], default='ASSOCIATION', max_length=50, verbose_name='æ©Ÿé–¢ç¨®åˆ¥')),
                ('prefecture_code', models.CharField(default='13', max_length=2, verbose_name='éƒ½é“åºœçœŒã‚³ãƒ¼ãƒ‰')),
                ('url', models.URLField(blank=True, verbose_name='å…¬å¼URL')),
                ('data_format', models.CharField(choices=[('WEB', 'Webãƒšãƒ¼ã‚¸')], default='WEB', max_length=50, verbose_name='ãƒ‡ãƒ¼ã‚¿å½¢å¼')),
                ('last_checked', models.DateTimeField(auto_now=True, verbose_name='æœ€çµ‚ç¢ºèªæ—¥æ™‚')),
            ],
            options={
                'verbose_name': 'æƒ…å ±æº',
                'verbose_name_plural': 'æƒ…å ±æº',
            },
        ),
        migrations.CreateModel(
            name='Trail',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=50, verbose_name='ç™»å±±é“å/åŒºé–“å')),
                ('mountain', models.CharField(max_length=20, verbose_name='å±±å')),
                ('area', models.CharField(choices=[('OKUTAMA', 'å¥¥å¤šæ‘©'), ('TANZAWA', 'ä¸¹æ²¢'), ('TAKAO', 'é«˜å°¾ãƒ»å¥¥é«˜å°¾'), ('HAKONE', 'ç®±æ ¹'), ('OKUMUSASHI', 'å¥¥æ­¦è”µ'), ('OKUCHICHIBU', 'å¥¥ç§©çˆ¶'), ('DAIBOSATSU', 'å¤§è©è–©é€£å¶º')], default='OKUTAMA', max_length=20, verbose_name='å±±åŸŸ')),
                ('location_description', models.TextField(blank=True, verbose_name='ä½ç½®èª¬æ˜')),
                ('prefecture_code', models.CharField(blank=True, default='13', max_length=2, null=True, verbose_name='éƒ½é“åºœçœŒã‚³ãƒ¼ãƒ‰')),
                ('municipality', models.CharField(blank=True, max_length=5, null=True, verbose_name='å¸‚åŒºç”ºæ‘ã‚³ãƒ¼ãƒ‰')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='ç™»éŒ²æ—¥æ™‚')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='æ›´æ–°æ—¥æ™‚')),
                ('source', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='trail_status.datasource', verbose_name='æƒ…å ±æº')),
            ],
            options={
                'verbose_name': 'ç™»å±±é“',
                'verbose_name_plural': 'ç™»å±±é“',
            },
        ),
        migrations.CreateModel(
            name='TrailCondition',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('CLOSURE', 'ğŸš§ é€šè¡Œæ­¢ã‚ãƒ»é–‰é–'), ('HAZARD', 'âš ï¸ å±é™ºç®‡æ‰€ãƒ»é€šè¡Œæ³¨æ„'), ('SNOW', 'â„ï¸ ç©é›ªãƒ»ã‚¢ã‚¤ã‚¹ãƒãƒ¼ãƒ³'), ('ANIMAL', 'ğŸ» å‹•ç‰©å‡ºæ²¡'), ('WEATHER', 'ğŸŒ§ï¸ æ°—è±¡è­¦å ±'), ('FACILITY', 'ğŸ  æ–½è¨­æƒ…å ±'), ('WATER', 'ğŸ’§ æ°´å ´çŠ¶æ³'), ('OTHER', 'ğŸ“ ãã®ä»–')], default='CLOSURE', max_length=20, verbose_name='çŠ¶æ³ç¨®åˆ¥')),
                ('severity', models.CharField(choices=[('EMERGENCY', 'ç·Šæ€¥'), ('WARNING', 'è­¦å‘Š'), ('CAUTION', 'æ³¨æ„'), ('INFO', 'æƒ…å ±')], default='INFO', max_length=10, verbose_name='é‡è¦åº¦')),
                ('title', models.CharField(max_length=200, verbose_name='ã‚¿ã‚¤ãƒˆãƒ«')),
                ('description', models.TextField(blank=True, verbose_name='è©³ç´°èª¬æ˜')),
                ('location_detail', models.CharField(blank=True, max_length=300, verbose_name='è©³ç´°ä½ç½®')),
                ('reported_at', models.DateTimeField(default=django.utils.timezone.now, verbose_name='å ±å‘Šæ—¥æ™‚')),
                ('valid_from', models.DateTimeField(default=django.utils.timezone.now, verbose_name='æœ‰åŠ¹é–‹å§‹')),
                ('valid_until', models.DateTimeField(blank=True, null=True, verbose_name='æœ‰åŠ¹æœŸé™')),
                ('is_active', models.BooleanField(default=True, verbose_name='æœ‰åŠ¹')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='ç™»éŒ²æ—¥æ™‚')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='æ›´æ–°æ—¥æ™‚')),
                ('source', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='trail_status.datasource', verbose_name='æƒ…å ±æº')),
                ('trail', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='statuses', to='trail_status.trail', verbose_name='ç™»å±±é“')),
            ],
            options={
                'verbose_name': 'çŠ¶æ³æƒ…å ±',
                'verbose_name_plural': 'çŠ¶æ³æƒ…å ±',
                'ordering': ['-reported_at', '-severity'],
            },
        ),
        migrations.AddIndex(
            model_name='trail',
            index=models.Index(fields=['prefecture_code', 'municipality'], name='trail_statu_prefect_086e3c_idx'),
        ),
        migrations.AddIndex(
            model_name='trail',
            index=models.Index(fields=['area'], name='trail_statu_area_ddcf7f_idx'),
        ),
        migrations.AddIndex(
            model_name='trail',
            index=models.Index(fields=['mountain'], name='trail_statu_mountai_dc7897_idx'),
        ),
        migrations.AddIndex(
            model_name='trailcondition',
            index=models.Index(fields=['trail', 'status'], name='trail_statu_trail_i_3013a1_idx'),
        ),
        migrations.AddIndex(
            model_name='trailcondition',
            index=models.Index(fields=['status', 'severity'], name='trail_statu_status_e7c166_idx'),
        ),
        migrations.AddIndex(
            model_name='trailcondition',
            index=models.Index(fields=['valid_until', 'is_active'], name='trail_statu_valid_u_0f792b_idx'),
        ),
    ]
