# Generated by Django 6.0 on 2026-01-04 06:06

import django.core.validators
import django.db.models.deletion
from decimal import Decimal
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='DataSource',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200, verbose_name='æ©Ÿé–¢å')),
                ('organization_type', models.CharField(choices=[('MUNICIPALITY', 'åœ°æ–¹è‡ªæ²»ä½“'), ('POLICE_FIRE', 'è­¦å¯Ÿãƒ»æ¶ˆé˜²'), ('GOVERNMENT', 'çœåº'), ('OFFICIAL_DEPS', 'ãã®ä»–å…¬çš„æ©Ÿé–¢'), ('ASSOCIATION', 'å”ä¼šãƒ»å›£ä½“'), ('MOUNTAIN_HUT', 'å±±å°å±‹'), ('SNS', 'SNS/ãƒ¦ãƒ¼ã‚¶ãƒ¼æŠ•ç¨¿'), ('OTHER', 'ãã®ä»–')], default='ASSOCIATION', max_length=50, verbose_name='æ©Ÿé–¢ç¨®åˆ¥')),
                ('prefecture_code', models.CharField(blank=True, default='13', max_length=2, verbose_name='éƒ½é“åºœçœŒã‚³ãƒ¼ãƒ‰')),
                ('prompt_key', models.CharField(help_text='ä¾‹: okutama_vc, kumotori_hut', max_length=50, unique=True, verbose_name='ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚­ãƒ¼')),
                ('url1', models.URLField(max_length=500, verbose_name='URLâ‘ ')),
                ('url2', models.URLField(blank=True, max_length=500, verbose_name='URLâ‘¡')),
                ('data_format', models.CharField(choices=[('WEB', 'Webãƒšãƒ¼ã‚¸')], default='WEB', max_length=50, verbose_name='ãƒ‡ãƒ¼ã‚¿å½¢å¼')),
                ('content_hash', models.CharField(blank=True, help_text='ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å†…å®¹ã®ãƒãƒƒã‚·ãƒ¥å€¤ï¼ˆå¤‰æ›´æ¤œçŸ¥ç”¨ï¼‰', max_length=64, verbose_name='ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒãƒƒã‚·ãƒ¥')),
                ('last_scraped_at', models.DateTimeField(blank=True, help_text='æœ€å¾Œã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—ã—ãŸæ—¥æ™‚', null=True, verbose_name='æœ€çµ‚ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°æ—¥æ™‚')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='ç™»éŒ²æ—¥æ™‚')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='æ›´æ–°æ—¥æ™‚')),
            ],
            options={
                'verbose_name': 'æƒ…å ±æº',
                'verbose_name_plural': 'æƒ…å ±æº',
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='MountainGroup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=50, unique=True, verbose_name='å±±å')),
                ('area', models.CharField(choices=[('OKUTAMA', 'å¥¥å¤šæ‘©'), ('TANZAWA', 'ä¸¹æ²¢'), ('TAKAO', 'é«˜å°¾ãƒ»å¥¥é«˜å°¾'), ('HAKONE', 'ç®±æ ¹'), ('OKUMUSASHI', 'å¥¥æ­¦è”µ'), ('OKUCHICHIBU', 'å¥¥ç§©çˆ¶'), ('DAIBOSATSU', 'å¤§è©è–©é€£å¶º')], max_length=20, verbose_name='å±±åŸŸ')),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(20), django.core.validators.MaxValueValidator(50)], verbose_name='ç·¯åº¦')),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(120), django.core.validators.MaxValueValidator(160)], verbose_name='çµŒåº¦')),
            ],
            options={
                'verbose_name': 'å±±ã‚°ãƒ«ãƒ¼ãƒ—',
                'verbose_name_plural': 'å±±ã‚°ãƒ«ãƒ¼ãƒ—',
                'indexes': [models.Index(fields=['name'], name='trail_statu_name_f3a76c_idx')],
            },
        ),
        migrations.CreateModel(
            name='MountainAlias',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('alias_name', models.CharField(max_length=50, unique=True, verbose_name='åˆ¥åãƒ»ãƒã‚¤ãƒŠãƒ¼å±±å')),
                ('mountain_group', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='aliases', to='trail_status.mountaingroup', verbose_name='å±±ã‚°ãƒ«ãƒ¼ãƒ—')),
            ],
            options={
                'verbose_name': 'å±±ååˆ¥å',
                'verbose_name_plural': 'å±±ååˆ¥å',
            },
        ),
        migrations.CreateModel(
            name='PromptBackup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('file_name', models.CharField(db_index=True, help_text='ä¾‹: 001_okutama_vc.yaml', max_length=100, verbose_name='ãƒ•ã‚¡ã‚¤ãƒ«å')),
                ('content', models.TextField(verbose_name='ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå†…å®¹')),
                ('backup_date', models.DateTimeField(auto_now_add=True, verbose_name='ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ—¥æ™‚')),
                ('file_hash', models.CharField(help_text='SHA256ãƒãƒƒã‚·ãƒ¥', max_length=64, unique=True, verbose_name='ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒƒã‚·ãƒ¥')),
                ('file_size', models.IntegerField(default=0, verbose_name='ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º(bytes)')),
                ('backup_type', models.CharField(choices=[('scheduled', 'å®šæœŸ'), ('manual', 'æ‰‹å‹•'), ('emergency', 'ç·Šæ€¥')], default='scheduled', max_length=20, verbose_name='ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç¨®åˆ¥')),
            ],
            options={
                'verbose_name': 'ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—',
                'verbose_name_plural': 'ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—',
                'ordering': ['-backup_date'],
                'indexes': [models.Index(fields=['file_name', '-backup_date'], name='trail_statu_file_na_e9a0f7_idx'), models.Index(fields=['backup_type', '-backup_date'], name='trail_statu_backup__936a21_idx')],
            },
        ),
        migrations.CreateModel(
            name='LlmUsage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('model', models.CharField(max_length=50, verbose_name='LLMãƒ¢ãƒ‡ãƒ«')),
                ('prompt_tokens', models.IntegerField(default=0, verbose_name='å…¥åŠ›ãƒˆãƒ¼ã‚¯ãƒ³æ•°')),
                ('thinking_tokens', models.IntegerField(default=0, verbose_name='æ€è€ƒãƒˆãƒ¼ã‚¯ãƒ³æ•°')),
                ('output_tokens', models.IntegerField(default=0, verbose_name='å‡ºåŠ›ãƒˆãƒ¼ã‚¯ãƒ³æ•°')),
                ('cost_usd', models.DecimalField(decimal_places=6, default=Decimal('0.000000'), max_digits=10, verbose_name='ã‚³ã‚¹ãƒˆ(USD)')),
                ('conditions_extracted', models.IntegerField(default=0, verbose_name='æŠ½å‡ºã•ã‚ŒãŸçŠ¶æ³æ•°')),
                ('success', models.BooleanField(default=True, verbose_name='å‡¦ç†æˆåŠŸ')),
                ('executed_at', models.DateTimeField(auto_now_add=True, verbose_name='å®Ÿè¡Œæ—¥æ™‚')),
                ('execution_time_seconds', models.FloatField(blank=True, null=True, verbose_name='å®Ÿè¡Œæ™‚é–“(ç§’)')),
                ('source', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='trail_status.datasource', verbose_name='æƒ…å ±æº')),
            ],
            options={
                'verbose_name': 'LLMåˆ©ç”¨å±¥æ­´',
                'verbose_name_plural': 'LLMåˆ©ç”¨å±¥æ­´',
                'ordering': ['-executed_at'],
                'indexes': [models.Index(fields=['executed_at', 'model'], name='trail_statu_execute_3a6570_idx'), models.Index(fields=['source', '-executed_at'], name='trail_statu_source__906411_idx')],
            },
        ),
        migrations.CreateModel(
            name='TrailCondition',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('url1', models.URLField(verbose_name='æƒ…å ±æºURL')),
                ('trail_name', models.CharField(max_length=50, verbose_name='ç™»å±±é“åãƒ»åŒºé–“ï¼ˆåŸæ–‡ï¼‰')),
                ('mountain_name_raw', models.CharField(blank=True, default='', max_length=50, verbose_name='å±±åï¼ˆåŸæ–‡ï¼‰')),
                ('title', models.CharField(max_length=200, verbose_name='ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆåŸæ–‡ï¼‰')),
                ('description', models.TextField(blank=True, verbose_name='è©³ç´°èª¬æ˜ï¼ˆåŸæ–‡ï¼‰')),
                ('reported_at', models.DateField(blank=True, default=None, null=True, verbose_name='å ±å‘Šæ—¥')),
                ('resolved_at', models.DateField(blank=True, default=None, help_text='æ—¢å­˜ã®è©²å½“é …ç›®ã®ç™»å±±é“çŠ¶æ³ã®å•é¡ŒãŒè§£æ¶ˆã•ã‚ŒãŸå ´åˆã€ã‚ã‚‹ã„ã¯è§£æ¶ˆã•ã‚Œã‚‹æ—¥æ™‚ãŒåˆ¤æ˜ã—ãŸå ´åˆã«ã®ã¿å…¥åŠ›', null=True, verbose_name='è§£æ¶ˆæ—¥')),
                ('status', models.CharField(choices=[('CLOSURE', 'ğŸš§ é€šè¡Œæ­¢ã‚ãƒ»é–‰é–'), ('HAZARD', 'âš ï¸ å±é™ºç®‡æ‰€ãƒ»é€šè¡Œæ³¨æ„'), ('SNOW', 'â„ï¸ ç©é›ªãƒ»ã‚¢ã‚¤ã‚¹ãƒãƒ¼ãƒ³'), ('ANIMAL', 'ğŸ» å‹•ç‰©å‡ºæ²¡'), ('WEATHER', 'ğŸŒ§ï¸ æ°—è±¡è­¦å ±'), ('FACILITY', 'ğŸ  æ–½è¨­æƒ…å ±'), ('WATER', 'ğŸ’§ æ°´å ´çŠ¶æ³'), ('OTHER', 'ğŸ“ ãã®ä»–')], default='CLOSURE', max_length=20, verbose_name='çŠ¶æ³ç¨®åˆ¥')),
                ('area', models.CharField(choices=[('OKUTAMA', 'å¥¥å¤šæ‘©'), ('TANZAWA', 'ä¸¹æ²¢'), ('TAKAO', 'é«˜å°¾ãƒ»å¥¥é«˜å°¾'), ('HAKONE', 'ç®±æ ¹'), ('OKUMUSASHI', 'å¥¥æ­¦è”µ'), ('OKUCHICHIBU', 'å¥¥ç§©çˆ¶'), ('DAIBOSATSU', 'å¤§è©è–©é€£å¶º')], max_length=20, verbose_name='å±±åŸŸ')),
                ('reference_URL', models.URLField(blank=True, max_length=500, verbose_name='è£œè¶³URLï¼ˆpdfç­‰ï¼‰')),
                ('comment', models.TextField(blank=True, verbose_name='å‚™è€ƒæ¬„')),
                ('ai_model', models.CharField(blank=True, help_text='ä¾‹: deepseek-reasoner', max_length=50, verbose_name='ä½¿ç”¨AIãƒ¢ãƒ‡ãƒ«')),
                ('prompt_file', models.CharField(blank=True, help_text='ä¾‹: 001_okutama_vc.yaml', max_length=100, verbose_name='ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«')),
                ('ai_config', models.JSONField(blank=True, help_text='temperature, thinking_budgetãªã©ã®è¨­å®š', null=True, verbose_name='AIè¨­å®š')),
                ('disabled', models.BooleanField(default=False, help_text='[ä½¿ç”¨ä¾‹] èª¤æƒ…å ±ã ã£ãŸå ´åˆã»ã‹', verbose_name='æƒ…å ±ã®ç„¡åŠ¹åŒ–ï¼ˆç®¡ç†ç”¨ï¼‰')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='ç™»éŒ²æ—¥æ™‚')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='æ›´æ–°æ—¥æ™‚')),
                ('mountain_group', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='trail_status.mountaingroup', verbose_name='å±±ã‚°ãƒ«ãƒ¼ãƒ—')),
                ('source', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='trail_status.datasource', verbose_name='æƒ…å ±æº')),
            ],
            options={
                'verbose_name': 'ç™»å±±é“çŠ¶æ…‹',
                'verbose_name_plural': 'ç™»å±±é“çŠ¶æ…‹',
                'ordering': ['-updated_at'],
                'indexes': [models.Index(fields=['disabled', 'resolved_at', '-reported_at'], name='trail_statu_disable_a2fffa_idx'), models.Index(fields=['area', 'status', 'disabled', '-reported_at'], name='trail_statu_area_9859a9_idx'), models.Index(fields=['mountain_name_raw', 'trail_name', '-reported_at'], name='trail_statu_mountai_51c54b_idx')],
            },
        ),
    ]
